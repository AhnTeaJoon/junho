<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.ggiri.root.mybatis.member.GgiriMemberMapper">

	<resultMap type="com.ggiri.root.member.dto.GgiriMemberDTO" id="ggiri">
		<id property="id" column="id"/>
		<result property="name" column="name"/>
		<result property="pwd" column="pwd"/>
		<result property="birth" column="birth"/>
		<result property="gender" column="gender"/>
		<result property="email" column="email"/>
		<result property="tel" column="tel"/>
		<result property="addr" column="addr"/>
		<result property="logdate" column="logdate"/>
	</resultMap>
	
	<!-- 강준호 -->
	<insert id="register">
		INSERT INTO ggirimember(id, name, pwd, birth, gender, email, tel, addr) VALUES(#{id}, #{name}, #{pwd}, #{birth}, #{gender}, #{email}, #{tel}, #{addr})
	</insert>
	
	<select id="idCheck" resultType="integer">
		SELECT COUNT(id) FROM ggirimember WHERE id=#{id}
	</select>
	
	<select id="loginCheck" resultMap="ggiri">
		SELECT * FROM ggirimember WHERE id=#{id}
	</select>
	
	<select id="joinPhone" resultType="integer">
		SELECT COUNT(tel) FROM ggirimember WHERE tel=#{userTel}
	</select>
	
	<select id="findEmail" resultMap="ggiri">
		SELECT * FROM ggirimember WHERE email=#{email}	
	</select>
	
	<!-- Kakao -->
	
	<select id="findKakao" resultType="integer">
		select count(id) from ggirimember where id=#{kakaoMember}
	</select>
	
	<insert id="kakaoinsert">
		insert into ggirimember(name, id, email) values(#{name}, #{id}, #{email})
	</insert>
	
	
	<!-- Naver -->
	<select id="findNaver" resultType="integer">
		SELECT COUNT(id) FROM ggirimember WHERE id=#{naverMember}
	</select>
	
	<insert id="naverInsert">
		INSERT INTO ggirimember(id, name, birth, gender, email, tel) VALUES(#{id}, #{name}, #{birth}, #{gender}, #{email}, #{tel})
	</insert>
	<!-- 강준호 끝 -->
	
	
	
</mapper>
